<div class="overlay" *ngIf="loading">
  <div class="custom-loader"></div>
</div>

<div class="password-reset-container">
    <div class="password-reset-input-container">
        <mat-card>
            <mat-card-title>Resetar Senha</mat-card-title>
            <mat-card-content>
              <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()">  
                <mat-form-field appearance="fill">
                  <mat-label>Nova Senha</mat-label>
                  <input matInput type="password" formControlName="password" required>
                  <mat-error *ngIf="resetPasswordForm.get('password')?.hasError('required')">
                    Senha é obrigatória
                  </mat-error>
                  <mat-error *ngIf="resetPasswordForm.get('password')?.hasError('invalidPassword')">
                    Senha não atende aos requisitos mínimos
                  </mat-error>
                </mat-form-field>
        
                <mat-form-field appearance="fill">
                  <mat-label>Confirme a Nova Senha</mat-label>
                  <input matInput type="password" formControlName="confirmPassword" required>
                  <mat-error *ngIf="resetPasswordForm.get('confirmPassword')?.hasError('required')">
                    Confirmação de senha é obrigatória
                  </mat-error>
                  <mat-error *ngIf="resetPasswordForm.get('confirmPassword')?.hasError('passwordMismatch')">
                    As senhas não coincidem
                  </mat-error>
                </mat-form-field>
        
                <div class="button-container">
                  <button mat-raised-button color="primary" type="submit" [disabled]="resetPasswordForm.invalid">Redefinir Senha</button>
                </div>
              </form>
            </mat-card-content>
        </mat-card>
    </div>
    <div class="password-requirements">
      <mat-card>
          <mat-card-title>Requisitos de Senha</mat-card-title>
          <mat-card-content>
              <div *ngFor="let req of passwordRequirements" [ngClass]="{'valid': req.valid, 'invalid': !req.valid}">
                  {{ req.label }}
                </div>
          </mat-card-content>
      </mat-card>
  </div>
</div>
  