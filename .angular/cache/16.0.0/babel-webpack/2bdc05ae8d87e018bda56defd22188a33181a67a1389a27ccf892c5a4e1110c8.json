{"ast":null,"code":"import { Directive, ElementRef, HostBinding, HostListener } from '@angular/core';\nimport { BsDropdownState } from './bs-dropdown.state';\nexport var BsDropdownToggleDirective = function () {\n  function BsDropdownToggleDirective(_state, _element) {\n    var _this = this;\n    this._state = _state;\n    this._element = _element;\n    this.isDisabled = null;\n    this._subscriptions = [];\n    // sync is open value with state\n    this._subscriptions.push(this._state.isOpenChange.subscribe(function (value) {\n      return _this.isOpen = value;\n    }));\n    // populate disabled state\n    this._subscriptions.push(this._state.isDisabledChange.subscribe(function (value) {\n      return _this.isDisabled = value || null;\n    }));\n  }\n  BsDropdownToggleDirective.prototype.onClick = function () {\n    if (this.isDisabled) {\n      return;\n    }\n    this._state.toggleClick.emit();\n  };\n  BsDropdownToggleDirective.prototype.onDocumentClick = function (event) {\n    if (this._state.autoClose && event.button !== 2 && !this._element.nativeElement.contains(event.target)) {\n      this._state.toggleClick.emit(false);\n    }\n  };\n  BsDropdownToggleDirective.prototype.onEsc = function () {\n    if (this._state.autoClose) {\n      this._state.toggleClick.emit(false);\n    }\n  };\n  BsDropdownToggleDirective.prototype.ngOnDestroy = function () {\n    for (var _i = 0, _a = this._subscriptions; _i < _a.length; _i++) {\n      var sub = _a[_i];\n      sub.unsubscribe();\n    }\n  };\n  BsDropdownToggleDirective.decorators = [{\n    type: Directive,\n    args: [{\n      selector: '[bsDropdownToggle],[dropdownToggle]',\n      exportAs: 'bs-dropdown-toggle',\n      host: {\n        '[attr.aria-haspopup]': 'true'\n      }\n    }]\n  }];\n  /** @nocollapse */\n  BsDropdownToggleDirective.ctorParameters = function () {\n    return [{\n      type: BsDropdownState\n    }, {\n      type: ElementRef\n    }];\n  };\n  BsDropdownToggleDirective.propDecorators = {\n    'isDisabled': [{\n      type: HostBinding,\n      args: ['attr.disabled']\n    }],\n    'isOpen': [{\n      type: HostBinding,\n      args: ['attr.aria-expanded']\n    }],\n    'onClick': [{\n      type: HostListener,\n      args: ['click']\n    }],\n    'onDocumentClick': [{\n      type: HostListener,\n      args: ['document:click', ['$event']]\n    }],\n    'onEsc': [{\n      type: HostListener,\n      args: ['keyup.esc']\n    }]\n  };\n  return BsDropdownToggleDirective;\n}();\n//# sourceMappingURL=bs-dropdown-toggle.directive.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}