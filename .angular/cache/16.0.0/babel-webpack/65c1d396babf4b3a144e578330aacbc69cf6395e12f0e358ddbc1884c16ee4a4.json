{"ast":null,"code":"import { Component } from '@angular/core';\nimport { isBs3 } from '../utils/ng2-bootstrap-config';\nimport { DatePickerInnerComponent } from './datepicker-inner.component';\nexport var YearPickerComponent = function () {\n  function YearPickerComponent(datePicker) {\n    this.rows = [];\n    this.datePicker = datePicker;\n  }\n  Object.defineProperty(YearPickerComponent.prototype, \"isBs4\", {\n    get: function () {\n      return !isBs3();\n    },\n    enumerable: true,\n    configurable: true\n  });\n  YearPickerComponent.prototype.ngOnInit = function () {\n    var self = this;\n    this.datePicker.stepYear = {\n      years: this.datePicker.yearRange\n    };\n    this.datePicker.setRefreshViewHandler(function () {\n      var years = new Array(this.yearRange);\n      var date;\n      var start = self.getStartingYear(this.activeDate.getFullYear());\n      for (var i = 0; i < this.yearRange; i++) {\n        date = new Date(start + i, 0, 1);\n        date = this.fixTimeZone(date);\n        years[i] = this.createDateObject(date, this.formatYear);\n        years[i].uid = this.uniqueId + '-' + i;\n      }\n      self.title = [years[0].label, years[this.yearRange - 1].label].join(' - ');\n      self.rows = this.split(years, self.datePicker.yearColLimit);\n    }, 'year');\n    this.datePicker.setCompareHandler(function (date1, date2) {\n      return date1.getFullYear() - date2.getFullYear();\n    }, 'year');\n    this.datePicker.refreshView();\n  };\n  YearPickerComponent.prototype.getStartingYear = function (year) {\n    // todo: parseInt\n    return (year - 1) / this.datePicker.yearRange * this.datePicker.yearRange + 1;\n  };\n  YearPickerComponent.decorators = [{\n    type: Component,\n    args: [{\n      selector: 'yearpicker',\n      template: \"\\n<table *ngIf=\\\"datePicker.datepickerMode==='year'\\\" role=\\\"grid\\\">\\n  <thead>\\n    <tr>\\n      <th>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default btn-sm pull-left\\\"\\n                (click)=\\\"datePicker.move(-1)\\\" tabindex=\\\"-1\\\">\\n          <i class=\\\"glyphicon glyphicon-chevron-left\\\"></i>\\n        </button>\\n      </th>\\n      <th [attr.colspan]=\\\"((datePicker.yearColLimit - 2) <= 0) ? 1 : datePicker.yearColLimit - 2\\\">\\n        <button [id]=\\\"datePicker.uniqueId + '-title'\\\" role=\\\"heading\\\"\\n                type=\\\"button\\\" class=\\\"btn btn-default btn-sm\\\"\\n                (click)=\\\"datePicker.toggleMode()\\\"\\n                [disabled]=\\\"datePicker.datepickerMode === datePicker.maxMode\\\"\\n                [ngClass]=\\\"{disabled: datePicker.datepickerMode === datePicker.maxMode}\\\" tabindex=\\\"-1\\\" style=\\\"width:100%;\\\">\\n          <strong>{{title}}</strong>\\n        </button>\\n      </th>\\n      <th>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default btn-sm pull-right\\\"\\n                (click)=\\\"datePicker.move(1)\\\" tabindex=\\\"-1\\\">\\n          <i class=\\\"glyphicon glyphicon-chevron-right\\\"></i>\\n        </button>\\n      </th>\\n    </tr>\\n  </thead>\\n  <tbody>\\n    <tr *ngFor=\\\"let rowz of rows\\\">\\n      <td *ngFor=\\\"let dtz of rowz\\\" class=\\\"text-center\\\" role=\\\"gridcell\\\">\\n        <button type=\\\"button\\\" style=\\\"min-width:100%;\\\" class=\\\"btn btn-default\\\"\\n                [ngClass]=\\\"{'btn-link': isBs4 && !dtz.selected && !datePicker.isActive(dtz), 'btn-info': dtz.selected || (isBs4 && !dtz.selected && datePicker.isActive(dtz)), disabled: dtz.disabled, active: !isBs4 && datePicker.isActive(dtz)}\\\"\\n                [disabled]=\\\"dtz.disabled\\\"\\n                (click)=\\\"datePicker.select(dtz.date)\\\" tabindex=\\\"-1\\\">\\n          <span [ngClass]=\\\"{'text-success': isBs4 && dtz.current, 'text-info': !isBs4 && dtz.current}\\\">{{dtz.label}}</span>\\n        </button>\\n      </td>\\n    </tr>\\n  </tbody>\\n</table>\\n  \"\n    }]\n  }];\n  /** @nocollapse */\n  YearPickerComponent.ctorParameters = function () {\n    return [{\n      type: DatePickerInnerComponent\n    }];\n  };\n  return YearPickerComponent;\n}();\n//# sourceMappingURL=yearpicker.component.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}